<p style="color: green"><%= notice %></p>
<div class="container">
  <h1>Products</h1>

  <%= form_tag products_path, method: :get, data: { turbo_frame: "search-results", turbo_action: "advance", controller: "search", action: "input->search#submit" }, html: { class: "form" } do %>
    
      <%= label_tag :search, "Search" %>
      <%= text_field_tag :search, params[:search], class: "form-control" %>
    
    <%= submit_tag "Search", class: "btn btn--primary" %>
  <%end %>
  <div id="products">
    <% if @products.empty? %>
      <p>No products found</p>
    <% else %>
      <%= turbo_frame_tag "search-results" do %>
        <% @products.each do |product| %>
          <%= render product %>
          <%#= link_to "Show this product", product %>    
        <% end %>
      <% end %>
    </div>
  <% end %>
  <%= link_to "New Product", new_product_path, class: "btn btn--light"  %>
</div>